
# 引言

对任何管理服务器的人员而言，对网络有基本的了解是十分重要的。这不仅是让你的服务上线并顺利运行的必要条件，它还为你提供了诊断问题的洞察力。

本文档将提供一些常见网络概念的基本概述，我们将讨论基本的术语，常见的协议，以及不同网络层的职责和特征。
该指南与操作系统无关，但是在实施利用服务器上网络的功能和服务时应该非常有帮助。


# 网络词汇表

在开始深入讨论网络之前，我们必须定义一些通用术语，你将在本指南以及与网络有关的其他指南和文档中看到这些术语。

这些术语将在下面的相应部分中进行扩展：
- `连接（connection）`： 在联网中，连接是指通过网络传输的相关信息。 这通常可以推断出一个连接是在数据传输之前建立的（通过遵循协议中规定的过程），然后在数据传输结束时对其进行解构。
- `Packet(包)`： 一般来说，数据包是通过网络传输的最基本的单元。 通过网络进行通信时，数据包是从一个端点到另一个端点（逐段）承载数据的信封。

`数据包的标头部分包含有关数据包的信息，包括源和目的地，时间戳，网络跃点等。数据包的主要部分包含要传输的实际数据。 有时称为主体或有效载荷。`

-` 网络接口(network interface)`: 网络接口可以是网络硬件的任何一种软件接口。例如，如果你的计算机中有两个网卡，你可以分别控制和配置与它们相关联的每个网络接口。


网络接口可以与物理设备相关联，也可以是虚拟接口的表示。回环设备就是这样一个例子，它是本地机器的一个虚拟接口。

- `LAN（本地网络）`: LAN代表“局域网”。它指的是一个网络或网络的一部分不能被更大的互联网公开访问。家庭或办公室网络就是局域网的一个例子。
- `WAN (广域网络)` : WAN代表“广域网”。它指的是比局域网广泛得多的网络。广域网是一个相关的术语，通常用来描述大型的、分散的网络，但它通常是指整个互联网。

如果说某个接口已连接到WAN，则通常认为该接口可通过Internet到达。

-` Protocol（协议）`： 协议是一组规则和标准，基本上定义了设备可以用来通信的语言。 网络中广泛使用大量协议，它们通常在不同的层中实现。


`一些底层协议是TCP、UDP、IP和ICMP。在这些较低的协议上构建的一些常见的应用层协议示例有HTTP(用于访问web内容)、SSH、TLS/SSL和FTP。`


- `Port(端口)`: 端口是一台机器上的一个地址，它可以被绑定到一个特定的软件上。它不是一个物理接口或位置，但它允许你的服务器能够使用多个应用程序进行通信。

- `Firewall(防火墙)`: 防火墙是一个程序，它决定是否允许流量进入或流出服务器。防火墙的工作方式通常是为端口上可接受的通信流类型创建规则。通常，防火墙会阻塞服务器上特定应用程序不使用的端口。

- `NAT(网络地址转化)`：NAT代表网络地址转换。它是一种将传入路由服务器的请求转换为局域网中它所知道的相关设备或服务器的方法。这通常在物理LAN中实现，用于将请求通过一个IP地址路由到必要的后端服务器。

- `VPN (虚拟专用网)`: VPN是虚拟专用网的缩写。它是一种通过互联网连接独立局域网的方式，同时又能保护隐私。这是一种连接远程系统的方法，就像它们在本地网络上一样，通常是出于安全原因。

你可能会遇到许多其他的术语，这个列表不可能是详尽的。我们将根据需要解释其他术语。此时，你应该理解一些基本的、高级的概念，这些概念将使我们能够更好地讨论将要讨论的主题。

# 网络层级

虽然网络常常以水平方式讨论拓扑结构，但是在主机之间，它的实现在整个计算机或网络中以垂直方式分层。
这意味着有多种技术和协议建立在彼此之上，以便通信更容易地工作。每一个连续的、更高的层都会对原始数据进行更多的抽象，从而使应用程序和用户更容易使用它。
它还允许你以新的方式利用低层，而不必花费时间和精力来开发处理这些类型的通信流的协议和应用程序。
根据你使用的模型，我们用来讨论每种分层方案的语言会有很大不同。 无论讨论层的模型如何，数据路径都是相同的。
当数据从一台计算机发送出去时，它从堆栈的顶部开始，然后向下过滤。在最低级别，实际传输到另一台机器。此时，数据通过其他计算机层返回。
每个层都有能力在它从相邻层接收到的数据周围添加它自己的“包装器”，这将帮助后面的层决定在传递数据时如何处理数据。

# OSI模型
从历史上看，讨论网络通信的不同层次的一种方法是OSI模型。OSI代表开放系统互连。
这个模型定义了七个独立的层。这个模型的层是:

- `Application（应用）`：应用层是用户和用户应用程序最常交互的层。网络通信从资源的可用性、要与之通信的点对点和数据同步等方面进行了交互。

- `Presentation （表现）`：表示层负责映射资源和创建上下文。它用于将较低级别的网络数据转换为应用程序期望看到的数据。

- `Session（会话）`：会话层是一个连接处理程序。它以持久的方式创建、维护和销毁节点之间的连接。

- `Transport（传输）`： 传输层负责为其上的层提供可靠的连接。在此上下文中，可靠指的是验证连接的另一端接收到的数据是否完整的能力。

此层可以重新发送已删除或损坏的信息，并可以确认接收到的数据到远程计算机。

-` Network (网络)`: 网络层用于在网络上不同的节点之间路由数据。它使用地址能够告诉哪台计算机发送信息。该层还可以将较大的消息分解成较小的块，然后在另一端重新组装。

- `Data Link(数据链路)`: 此层实现为使用现有物理连接在网络上不同节点或设备之间建立和维护可靠链接的方法。
- `Physical(物理)`：物理层负责处理用于建立连接的实际物理设备。这一层包括管理物理连接的裸软件和硬件本身(如以太网)。

正如你所看到的，可以根据与裸硬件的接近程度和它们提供的功能来讨论许多不同的层。


# TCP/IP 模型

TCP/IP模型，通常称为Internet协议套件，是另一种更简单且被广泛采用的分层模型。它定义了四个独立的层，其中一些与OSI模型重叠:

- `应用（application）`： 在这个模型中，应用层负责在应用程序之间创建和传输用户数据。应用程序可以在远程系统上运行，对最终用户来说应该是本地操作。

话说这种交流发生在点对点之间

- `运输(Transport)`: 传输层负责进程之间的通信。此级别的网络利用端口来处理不同的服务。它可以根据使用的协议类型建立不可靠或可靠的连接。

-` 网络（Internet）`： internet层用于在网络中从一个节点到另一个节点传输数据。该层知道连接的端点，但不关心从一个地方到另一个地方所需的实际连接。IP地址在这一层被定义为一种以可寻址方式到达远程系统的方式。

- `链路（Link）`： 链路层实现了本地网络的实际拓扑结构，允许internet层提供可寻址的接口。它建立相邻节点之间的连接来发送数据。

# 接口

接口是计算机的网络通信点。每个接口都与物理或虚拟网络设备相关联。通常，您的服务器将为您拥有的每个以太网或无线internet卡提供一个可配置的网络接口。